@import mathquiz.domain.Operation

@param boolean correct
@param int correctAnswer
@param int streak
@param int todayStars
@param int totalStars
@param boolean rangeExpanded
@param Operation newOperationUnlocked
@param int newStars

<div class="feedback ${correct ? "correct" : "incorrect"}">
    @if(correct)
        <div class="feedback-icon">âœ…</div>
        <div class="feedback-text">Ã•ige!</div>
    @else
        <div class="feedback-icon">âŒ</div>
        <div class="feedback-text">Vale! Ã•ige vastus: ${correctAnswer}</div>
    @endif

    @if(newStars > 0)
        <div class="star-earned">â­</div>
    @endif

    @if(rangeExpanded)
        <div class="achievement">ğŸ¯ Raskusaste tÃµusis!</div>
    @endif

    @if(newOperationUnlocked != null)
        <div class="achievement">ğŸ”“ Uus tehe avatud: ${newOperationUnlocked.symbol()}</div>
    @endif

    <%-- Auto-advance to next problem --%>
    <div hx-get="/quiz/problem"
         hx-trigger="load delay:1200ms"
         hx-target="#problem-area"
         hx-swap="innerHTML">
    </div>
</div>

<%-- OOB updates for stats --%>
<span id="streak" class="stat streak" hx-swap-oob="true">ğŸ”¥ ${streak}</span>
<span id="today-stars" class="stat stars" hx-swap-oob="true">â­ ${todayStars}</span>
<span id="total-stars" class="stat total-stars" hx-swap-oob="true">ğŸŒŸ ${totalStars}</span>
